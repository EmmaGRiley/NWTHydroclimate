% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ERA5_snowtrends_map_hourly_functions.R
\name{serial_autocorr_test}
\alias{serial_autocorr_test}
\title{Test for serial autocorrelation in manual survey data}
\usage{
serial_autocorr_test(
  data,
  start_year,
  end_year,
  flags,
  hdensity,
  ldensity,
  surface,
  act,
  exclude_sites,
  only_autocorrelated = FALSE
)
}
\arguments{
\item{data}{Data frame with manual survey data. Must contain columns:
site, year, swe_cm, data_flag_1, data_flag_2, density, surface_type, activity}

\item{start_year}{Starting year for analysis}

\item{end_year}{Ending year for analysis}

\item{flags}{Data quality flags to exclude}

\item{hdensity}{High density threshold}

\item{ldensity}{Low density threshold}

\item{surface}{Surface types to include (e.g., "upland", "lake")}

\item{act}{Activity types to include (e.g., "A", "IA")}

\item{exclude_sites}{Sites to exclude from analysis}

\item{only_autocorrelated}{Logical, if TRUE only return autocorrelated sites}
}
\value{
Data frame with autocorrelation test results including:
\itemize{
  \item site: Site name
  \item n_years: Number of years of data
  \item lag: Vector of lag values
  \item acf: Vector of ACF values
  \item lb_lag: Lag used for Ljung-Box test
  \item p_value: P-value from Ljung-Box test
}
}
\description{
Tests for serial autocorrelation in manual snow survey data using
autocorrelation function (ACF) and Ljung-Box test.
}
\examples{
# Test for autocorrelation
acf_results <- serial_autocorr_test(
  data = snow_survey_data,
  start_year = 1995,
  end_year = 2024,
  flags = c("Y", "Sk", "P", "Sk_2"),
  hdensity = 0.34,
  ldensity = 0.1,
  surface = "upland",
  act = c("A", "IA"),
  exclude_sites = NA
)
}

